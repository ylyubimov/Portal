@model Portal.Models.Lesson

@{
    ViewBag.Title = "CreateLesson";
}


<div class="container course-wrap">
    @using( Html.BeginForm( "CreateLesson", "CourseInstances", new { @courseInstanceId = ViewBag.CourseInstanceId}, FormMethod.Post ) ) {
        <div class="course-add-lesson">
            <h4>Новый урок:</h4>
            <div class="course-lesson-description">
                <div class="course-lesson-description-field">Название:</div>@Html.EditorFor( m => m.Name, new { htmlAttributes = new { @class = "course-add-lesson-input" } } ) @Html.ValidationMessageFor( m => m.Name )
                <div class="course-lesson-description-field">Описание:</div>@Html.EditorFor( m => m.Description, new { htmlAttributes = new { @class = "course-add-lesson-input" } } ) @Html.ValidationMessageFor( m => m.Description )
                <div class="course-lesson-description-field">Ссылки:</div>@Html.EditorFor( m => m.Links, new { htmlAttributes = new { @class = "course-add-lesson-input"} } ) @Html.ValidationMessageFor( m => m.Links )
            </div>
            <div class="documents-upload" id="docUploader_0" style="cursor:pointer">
                <a class="upload">Прикрепить файлы</a>
                <input type="file" name="upload-doc" id="DocUploadCreate_0" onChange="OnCreateDocumentLoad('@Url.Action( "UploadCreate", "CourseInstances")')" />
            </div>
            <input class="btn add-comment-button" type="submit" onclick="Send(this, '@Url.Action( "UploadCreate", "CourseInstances")')" value="Создать" />
        </div>
    }
</div>
@section scripts{
    @Scripts.Render( "~/bundles/jqueryval" )
    @Scripts.Render( "~/Scripts/documentLoad.js" )
    <script type="text/javascript">
    //Переводим на нажатие input
        $('#docUploader_0 a').on('click', function () {
            $(this).parent().find('input').click();
    })
    </script>
}